<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>今天去哪儿吃</title>
    <script src="jquery-2.2.0.min.js"></script>
    <script type="text/javascript">
        function pickRand() {
            $.getJSON("restaurants", function (data) {
                var pick;
                var d = new Date().getDay();
                pick=Math.floor(data.length*(Math.random()));
                while ($.inArray(d,data[pick].open)<0)
                    pick=Math.floor(data.length*(Math.random()));
                $("#choice").html(data[pick].name);
                $.get( "description/"+data[pick].detail, function( desc ) {
                    $("#choice").html(data[pick].name+desc);
                });
            });
        }
    </script>
</head>
<body>
<div id="choice"></div>
<button onclick="pickRand()">随机</button>
</body>
</html>